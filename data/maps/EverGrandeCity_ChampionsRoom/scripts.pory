mapscripts EverGrandeCity_ChampionsRoom_MapScripts {
    EverGrandeCity_ChampionsRoom_OnTransition
    EverGrandeCity_ChampionsRoom_OnWarp
    EverGrandeCity_ChampionsRoom_OnFrame
}

script EverGrandeCity_ChampionsRoom_EventScript_PlayerTurnNorth {
	turnobject LOCALID_PLAYER, DIR_NORTH
	end

}

script EverGrandeCity_ChampionsRoom_EventScript_EnterRoom {
	lockall
	applymovement LOCALID_PLAYER, Common_Movement_WalkUp4
	waitmovement 0
	delay 40
	applymovement LOCALID_PLAYER, EverGrandeCity_ChampionsRoom_Movement_PlayerApproachWallace
	waitmovement 0
	setvar VAR_TEMP_1, 1
	goto EverGrandeCity_ChampionsRoom_EventScript_Wallace
	releaseall
	end

}

script EverGrandeCity_ChampionsRoom_EventScript_Wallace {
	playbgm MUS_ENCOUNTER_CHAMPION, FALSE
	msgbox EverGrandeCity_ChampionsRoom_Text_IntroSpeech, MSGBOX_DEFAULT
	trainerbattle_no_intro TRAINER_WALLACE, EverGrandeCity_ChampionsRoom_Text_Defeat
	goto EverGrandeCity_ChampionsRoom_EventScript_Defeated
	end

}

script EverGrandeCity_ChampionsRoom_EventScript_Defeated {
	playse SE_DOOR
	setmetatile 6, 1, METATILE_EliteFour_OpenDoorChampion_Frame, FALSE
	setmetatile 6, 2, METATILE_EliteFour_OpenDoorChampion_Opening, FALSE
	special DrawWholeMapView
	msgbox EverGrandeCity_ChampionsRoom_Text_PostBattleSpeech, MSGBOX_DEFAULT
	closemessage
	playse SE_DOOR
	checkplayergender
	call_if_eq VAR_RESULT, MALE, EverGrandeCity_ChampionsRoom_EventScript_PlayMayMusic
	call_if_eq VAR_RESULT, FEMALE, EverGrandeCity_ChampionsRoom_EventScript_PlayBrendanMusic
	addobject LOCALID_CHAMPIONS_ROOM_RIVAL
	call EverGrandeCity_ChampionsRoom_EventScript_RivalApproachPlayer
	checkplayergender
	goto_if_eq VAR_RESULT, MALE, EverGrandeCity_ChampionsRoom_EventScript_MayAdvice
	goto_if_eq VAR_RESULT, FEMALE, EverGrandeCity_ChampionsRoom_EventScript_BrendanAdvice
	end

}

script EverGrandeCity_ChampionsRoom_EventScript_PlayMayMusic {
	playbgm MUS_ENCOUNTER_MAY, FALSE
	return

}

script EverGrandeCity_ChampionsRoom_EventScript_PlayBrendanMusic {
	playbgm MUS_ENCOUNTER_BRENDAN, FALSE
	return

}

script EverGrandeCity_ChampionsRoom_EventScript_MayAdvice {
	msgbox EverGrandeCity_ChampionsRoom_Text_MayAdvice, MSGBOX_DEFAULT
	delay 40
	playse SE_PIN
	applymovement LOCALID_CHAMPIONS_ROOM_RIVAL, Common_Movement_ExclamationMark
	waitmovement 0
	applymovement LOCALID_CHAMPIONS_ROOM_RIVAL, Common_Movement_Delay48
	waitmovement 0
	call EverGrandeCity_ChampionsRoom_EventScript_RivalLookBackAndForth
	msgbox EverGrandeCity_ChampionsRoom_Text_MayItsAlreadyOver, MSGBOX_DEFAULT
	goto EverGrandeCity_ChampionsRoom_EventScript_BirchArrivesExitForHoF
	end

}

script EverGrandeCity_ChampionsRoom_EventScript_BrendanAdvice {
	msgbox EverGrandeCity_ChampionsRoom_Text_BrendanAdvice, MSGBOX_DEFAULT
	delay 40
	playse SE_PIN
	applymovement LOCALID_CHAMPIONS_ROOM_RIVAL, Common_Movement_ExclamationMark
	waitmovement 0
	applymovement LOCALID_CHAMPIONS_ROOM_RIVAL, Common_Movement_Delay48
	waitmovement 0
	call EverGrandeCity_ChampionsRoom_EventScript_RivalLookBackAndForth
	msgbox EverGrandeCity_ChampionsRoom_Text_BrendanYouveWon, MSGBOX_DEFAULT
	goto EverGrandeCity_ChampionsRoom_EventScript_BirchArrivesExitForHoF
	end

}

script EverGrandeCity_ChampionsRoom_EventScript_BirchArrivesExitForHoF {
	closemessage
	addobject LOCALID_CHAMPIONS_ROOM_BIRCH
	applymovement LOCALID_CHAMPIONS_ROOM_BIRCH, EverGrandeCity_ChampionsRoom_Movement_BirchArrives
	waitmovement 0
	applymovement LOCALID_PLAYER, Common_Movement_WalkInPlaceFasterRight
	waitmovement 0
	msgbox EverGrandeCity_ChampionsRoom_Text_BirchArriveRatePokedex, MSGBOX_DEFAULT
	call ProfBirch_EventScript_RatePokedex
	msgbox EverGrandeCity_ChampionsRoom_Text_BirchCongratulations, MSGBOX_DEFAULT
	applymovement LOCALID_CHAMPIONS_ROOM_WALLACE, Common_Movement_WalkInPlaceFasterUp
	waitmovement 0
	delay 20
	applymovement LOCALID_CHAMPIONS_ROOM_WALLACE, Common_Movement_WalkInPlaceFasterDown
	waitmovement 0
	msgbox EverGrandeCity_ChampionsRoom_Text_WallaceComeWithMe, MSGBOX_DEFAULT
	closemessage
	delay 30
	applymovement LOCALID_CHAMPIONS_ROOM_WALLACE, EverGrandeCity_ChampionsRoom_Movement_WallaceExitStart
	applymovement LOCALID_PLAYER, EverGrandeCity_ChampionsRoom_Movement_PlayerExitStart
	applymovement LOCALID_CHAMPIONS_ROOM_BIRCH, Common_Movement_WalkInPlaceFasterUp
	applymovement LOCALID_CHAMPIONS_ROOM_RIVAL, EverGrandeCity_ChampionsRoom_Movement_RivalFollows
	waitmovement 0
	delay 20
	applymovement LOCALID_PLAYER, Common_Movement_WalkInPlaceFasterDown
	waitmovement 0
	msgbox EverGrandeCity_ChampionsRoom_Text_WallaceWaitOutside, MSGBOX_DEFAULT
	checkplayergender
	call_if_eq VAR_RESULT, MALE, EverGrandeCity_ChampionsRoom_EventScript_MayCongratulations
	call_if_eq VAR_RESULT, FEMALE, EverGrandeCity_ChampionsRoom_EventScript_BrendanCongratulations
	closemessage
	applymovement LOCALID_CHAMPIONS_ROOM_WALLACE, EverGrandeCity_ChampionsRoom_Movement_WallaceExit
	applymovement LOCALID_PLAYER, EverGrandeCity_ChampionsRoom_Movement_PlayerExit
	waitmovement 0
	setflag FLAG_HIDE_PETALBURG_GYM_GREETER
	warp MAP_EVER_GRANDE_CITY_HALL_OF_FAME, 7, 16
	waitstate
	releaseall
	end

}

script EverGrandeCity_ChampionsRoom_EventScript_MayCongratulations {
	msgbox EverGrandeCity_ChampionsRoom_Text_MayCongratulations, MSGBOX_DEFAULT
	return

}

script EverGrandeCity_ChampionsRoom_EventScript_BrendanCongratulations {
	msgbox EverGrandeCity_ChampionsRoom_Text_BrendanCongratulations, MSGBOX_DEFAULT
	return

}

script EverGrandeCity_ChampionsRoom_EventScript_RivalApproachPlayer {
	applymovement LOCALID_CHAMPIONS_ROOM_RIVAL, EverGrandeCity_ChampionsRoom_Movement_RivalApproachPlayer
	waitmovement 0
	applymovement LOCALID_PLAYER, Common_Movement_WalkInPlaceFasterLeft
	waitmovement 0
	return

}

script EverGrandeCity_ChampionsRoom_EventScript_RivalLookBackAndForth {
	applymovement LOCALID_CHAMPIONS_ROOM_RIVAL, EverGrandeCity_ChampionsRoom_Movement_RivalLookBackAndForth
	waitmovement 0
	return

}

text EverGrandeCity_ChampionsRoom_Text_IntroSpeech {
    format("WALLACE: Welcome, {PLAYER}{KUN}.\p That incident in SOOTOPOLIS CITY… That was superb work, putting an end\l to that crisis all by yourself.\p Oops!\p It wouldn't be fair to say that you alone ended the crisis.\p You overcame that difficult situation by working as one with your POKéMON.\p We TRAINERS raise POKéMON by giving them items and by teaching them new\l techniques for battle.\p But we ourselves also learn many things from POKéMON.\p And this is where your achievements are put to the test against what\l others like you have achieved.\p Now!\p Who can most elegantly dance with their POKéMON in HOENN?\p Show me right here and now!")
}

text EverGrandeCity_ChampionsRoom_Text_Defeat {
    format("I, the CHAMPION, fall in defeat…\p That was wonderful work. You were elegant, infuriatingly so.\l And yet it was utterly glorious!\p Kudos to you, {PLAYER}{KUN}!\p You are a truly noble POKéMON TRAINER!")
}

text EverGrandeCity_ChampionsRoom_Text_PostBattleSpeech {
    format("WALLACE: The POKéMON you sent into battle…\p At times they danced like a spring breeze, and at times they struck\l like lightning.\p It was with light, yet surefooted, elegance that you led your POKéMON.\p Even I felt bedazzled by your masterful performance!\p You now stand at the glorious peak of the POKéMON LEAGUE.\p I now proclaim you to be the new HOENN region…")
}

text EverGrandeCity_ChampionsRoom_Text_MayAdvice {
    format("MAY: {PLAYER}{KUN}!\p Here's some advice before you challenge the CHAMPION…")
}

text EverGrandeCity_ChampionsRoom_Text_MayItsAlreadyOver {
    format("MAY: Huh? What, what, what?\p {PLAYER}{KUN}… Could it be that…\l It's already over?")
}

text EverGrandeCity_ChampionsRoom_Text_BrendanAdvice {
    format("BRENDAN: {PLAYER}!\p How would you like some advice before you challenge the CHAMPION?…")
}

text EverGrandeCity_ChampionsRoom_Text_BrendanYouveWon {
    format("BRENDAN: {PLAYER}…\p Are you trying to tell me… You've beaten the CHAMPION?")
}

text EverGrandeCity_ChampionsRoom_Text_BirchArriveRatePokedex {
    format("PROF. BIRCH: See? What did I tell you, {RIVAL}?\p Didn't I tell you that you don't need to worry about {PLAYER}{KUN}?\p … … … … … … … … {PLAYER}{KUN}, you've finally done it.\p When I heard that you defeated your own father at the PETALBURG GYM,\l I thought perhaps you had a chance…\p But to think you've actually become the CHAMPION!\p Ah, yes!\p What became of your POKéDEX? Here, let me see.")
}

text EverGrandeCity_ChampionsRoom_Text_BirchCongratulations {
    format("PROF. BIRCH: Anyways, congratulations!\p Now, go proudly into the final room!")
}

text EverGrandeCity_ChampionsRoom_Text_WallaceComeWithMe {
    format("WALLACE: {PLAYER}{KUN}…\p No, let me rephrase that properly.\p The new CHAMPION!\p Come with me.")
}

text EverGrandeCity_ChampionsRoom_Text_WallaceWaitOutside {
    format("WALLACE: I'm sorry, but…\p From here on, only those TRAINERS who have become CHAMPIONS may enter.\p You'll have to wait outside with PROF. BIRCH.")
}

text EverGrandeCity_ChampionsRoom_Text_MayCongratulations {
    format("MAY: Groan…\p … … … … … … … … … … … … … … … …\p I'm just joking! That's okay! That's the rule!\p {PLAYER}{KUN}! Honestly, congratulations!")
}

text EverGrandeCity_ChampionsRoom_Text_BrendanCongratulations {
    format("BRENDAN: Whaaaat?! … … … … … … … … … … … … …\p It can't be helped if that's the rule.\p {PLAYER}, way to go! Congratulations!")
}

