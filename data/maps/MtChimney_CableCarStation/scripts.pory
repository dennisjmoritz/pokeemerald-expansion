mapscripts MtChimney_CableCarStation_MapScripts {
    MtChimney_CableCarStation_OnTransition
    MtChimney_CableCarStation_OnFrame
}

script MtChimney_CableCarStation_EventScript_MoveAttendantAside {
	setobjectxyperm LOCALID_MT_CHIMNEY_CABLE_CAR_ATTENDANT, 5, 4
	setobjectmovementtype LOCALID_MT_CHIMNEY_CABLE_CAR_ATTENDANT, MOVEMENT_TYPE_FACE_RIGHT
	return

}

script MtChimney_CableCarStation_EventScript_ExitCableCar {
	lockall
	applymovement LOCALID_PLAYER, MtChimney_CableCarStation_Movement_ExitCableCar
	applymovement LOCALID_MT_CHIMNEY_CABLE_CAR_ATTENDANT, MtChimney_CableCarStation_Movement_FollowPlayerOutFromCableCar
	waitmovement 0
	setvar VAR_CABLE_CAR_STATION_STATE, 0
	setobjectxyperm LOCALID_MT_CHIMNEY_CABLE_CAR_ATTENDANT, 6, 7
	setobjectmovementtype LOCALID_MT_CHIMNEY_CABLE_CAR_ATTENDANT, MOVEMENT_TYPE_FACE_DOWN
	releaseall
	end

}

script MtChimney_CableCarStation_EventScript_Attendant {
	lock
	faceplayer
	msgbox MtChimney_CableCarStation_Text_CableCarReadyGetOn, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, YES, MtChimney_CableCarStation_EventScript_RideCableCar
	goto_if_eq VAR_RESULT, NO, MtChimney_CableCarStation_EventScript_DeclineRide
	end

}

script MtChimney_CableCarStation_EventScript_RideCableCar {
	msgbox MtChimney_CableCarStation_Text_StepThisWay, MSGBOX_DEFAULT
	closemessage
	applymovement LOCALID_MT_CHIMNEY_CABLE_CAR_ATTENDANT, MtChimney_CableCarStation_Movement_LeadPlayerToCableCar
	applymovement LOCALID_PLAYER, MtChimney_CableCarStation_Movement_BoardCableCar
	waitmovement 0
	setvar VAR_0x8004, TRUE  @ Going down
	setvar VAR_CABLE_CAR_STATION_STATE, 2
	incrementgamestat GAME_STAT_RODE_CABLE_CAR
	special CableCarWarp
	special CableCar
	waitstate
	release
	end

}

script MtChimney_CableCarStation_EventScript_DeclineRide {
	msgbox MtChimney_CableCarStation_Text_RideAnotherTime, MSGBOX_DEFAULT
	release
	end

}

text MtChimney_CableCarStation_Text_CableCarReadyGetOn {
    format("The CABLE CAR is ready to go down. Would you like to be on it?")
}

text MtChimney_CableCarStation_Text_StepThisWay {
    format("Please step this way.")
}

text MtChimney_CableCarStation_Text_RideAnotherTime {
    format("Please ride with us another time.")
}

