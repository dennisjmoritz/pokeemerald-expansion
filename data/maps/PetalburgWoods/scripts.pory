mapscripts PetalburgWoods_MapScripts {
}

script PetalburgWoods_EventScript_DevonResearcherLeft {
	lockall
	call PetalburgWoods_EventScript_DevonResearcherIntro
	applymovement LOCALID_PETALBURG_WOODS_DEVON_EMPLOYEE, PetalburgWoods_Movement_DevonResearcherApproachPlayerLeft
	waitmovement 0
	msgbox PetalburgWoods_Text_HaveYouSeenShroomish, MSGBOX_DEFAULT
	closemessage
	playbgm MUS_ENCOUNTER_AQUA, FALSE
	applymovement LOCALID_PETALBURG_WOODS_GRUNT, PetalburgWoods_Movement_AquaEntrance
	waitmovement 0
	msgbox PetalburgWoods_Text_IWasGoingToAmbushYou, MSGBOX_DEFAULT
	closemessage
	applymovement LOCALID_PETALBURG_WOODS_GRUNT, PetalburgWoods_Movement_AquaApproachResearcherLeft
	waitmovement 0
	applymovement LOCALID_PETALBURG_WOODS_DEVON_EMPLOYEE, Common_Movement_WalkInPlaceFasterUp
	waitmovement 0
	msgbox PetalburgWoods_Text_HandOverThosePapers, MSGBOX_DEFAULT
	closemessage
	applymovement LOCALID_PETALBURG_WOODS_DEVON_EMPLOYEE, PetalburgWoods_Movement_DevonResearcherFleeToPlayerLeft
	waitmovement 0
	msgbox PetalburgWoods_Text_YouHaveToHelpMe, MSGBOX_DEFAULT
	closemessage
	applymovement LOCALID_PETALBURG_WOODS_GRUNT, PetalburgWoods_Movement_AquaApproachPlayer
	waitmovement 0
	msgbox PetalburgWoods_Text_NoOneCrossesTeamAqua, MSGBOX_DEFAULT
	trainerbattle_no_intro TRAINER_GRUNT_PETALBURG_WOODS, PetalburgWoods_Text_YoureKiddingMe
	applymovement LOCALID_PETALBURG_WOODS_GRUNT, PetalburgWoods_Movement_AquaBackOff
	waitmovement 0
	call PetalburgWoods_EventScript_DevonResearcherPostBattle
	applymovement LOCALID_PLAYER, PetalburgWoods_Movement_WatchResearcherLeave
	applymovement LOCALID_PETALBURG_WOODS_DEVON_EMPLOYEE, PetalburgWoods_Movement_DevonResearcherExitLeft
	waitmovement 0
	goto PetalburgWoods_EventScript_RemoveDevonResearcher
	end

}

script PetalburgWoods_EventScript_DevonResearcherRight {
	lockall
	call PetalburgWoods_EventScript_DevonResearcherIntro
	applymovement LOCALID_PETALBURG_WOODS_DEVON_EMPLOYEE, PetalburgWoods_Movement_DevonResearcherApproachPlayerRight
	waitmovement 0
	applymovement LOCALID_PLAYER, Common_Movement_WalkInPlaceFasterLeft
	waitmovement 0
	msgbox PetalburgWoods_Text_HaveYouSeenShroomish, MSGBOX_DEFAULT
	closemessage
	playbgm MUS_ENCOUNTER_AQUA, FALSE
	applymovement LOCALID_PETALBURG_WOODS_GRUNT, PetalburgWoods_Movement_AquaEntrance
	waitmovement 0
	msgbox PetalburgWoods_Text_IWasGoingToAmbushYou, MSGBOX_DEFAULT
	closemessage
	applymovement LOCALID_PETALBURG_WOODS_GRUNT, PetalburgWoods_Movement_AquaApproachResearcherRight
	waitmovement 0
	applymovement LOCALID_PETALBURG_WOODS_DEVON_EMPLOYEE, Common_Movement_WalkInPlaceFasterUp
	waitmovement 0
	msgbox PetalburgWoods_Text_HandOverThosePapers, MSGBOX_DEFAULT
	closemessage
	applymovement LOCALID_PETALBURG_WOODS_DEVON_EMPLOYEE, PetalburgWoods_Movement_DevonResearcherFleeToPlayerRight
	waitmovement 0
	msgbox PetalburgWoods_Text_YouHaveToHelpMe, MSGBOX_DEFAULT
	applymovement LOCALID_PLAYER, Common_Movement_WalkInPlaceFasterUp
	waitmovement 0
	msgbox PetalburgWoods_Text_NoOneCrossesTeamAqua, MSGBOX_DEFAULT
	trainerbattle_no_intro TRAINER_GRUNT_PETALBURG_WOODS, PetalburgWoods_Text_YoureKiddingMe
	applymovement LOCALID_PETALBURG_WOODS_GRUNT, PetalburgWoods_Movement_AquaBackOff
	waitmovement 0
	call PetalburgWoods_EventScript_DevonResearcherPostBattle
	applymovement LOCALID_PLAYER, PetalburgWoods_Movement_WatchResearcherLeave
	applymovement LOCALID_PETALBURG_WOODS_DEVON_EMPLOYEE, PetalburgWoods_Movement_DevonResearcherExitRight
	waitmovement 0
	goto PetalburgWoods_EventScript_RemoveDevonResearcher
	end

}

script PetalburgWoods_EventScript_DevonResearcherIntro {
	applymovement LOCALID_PETALBURG_WOODS_DEVON_EMPLOYEE, PetalburgWoods_Movement_DevonResearcherLookAround
	waitmovement 0
	msgbox PetalburgWoods_Text_NotAOneToBeFound, MSGBOX_DEFAULT
	closemessage
	return

}

script PetalburgWoods_EventScript_DevonResearcherPostBattle {
	msgbox PetalburgWoods_Text_YouveGotSomeNerve, MSGBOX_DEFAULT
	closemessage
	applymovement LOCALID_PETALBURG_WOODS_GRUNT, PetalburgWoods_Movement_AquaRunAway
	waitmovement 0
	removeobject LOCALID_PETALBURG_WOODS_GRUNT
	applymovement LOCALID_PLAYER, Common_Movement_WalkInPlaceFasterDown
	waitmovement 0
	msgbox PetalburgWoods_Text_ThatWasAwfullyClose, MSGBOX_DEFAULT
	giveitem ITEM_GREAT_BALL
	goto_if_eq VAR_RESULT, FALSE, PetalburgWoods_EventScript_BagFull
	goto PetalburgWoods_EventScript_DevonResearcherFinish
	end

}

script PetalburgWoods_EventScript_BagFull {
	msgbox PetalburgWoods_Text_YoureLoadedWithItems, MSGBOX_DEFAULT
	goto PetalburgWoods_EventScript_DevonResearcherFinish
	end

}

script PetalburgWoods_EventScript_DevonResearcherFinish {
	msgbox PetalburgWoods_Text_TeamAquaAfterSomethingInRustboro, MSGBOX_DEFAULT
	applymovement LOCALID_PETALBURG_WOODS_DEVON_EMPLOYEE, PetalburgWoods_Movement_DevonResearcherStartExit
	waitmovement 0
	msgbox PetalburgWoods_Text_ICantBeWastingTime, MSGBOX_DEFAULT
	closemessage
	return

}

script PetalburgWoods_EventScript_RemoveDevonResearcher {
	removeobject LOCALID_PETALBURG_WOODS_DEVON_EMPLOYEE
	setvar VAR_PETALBURG_WOODS_STATE, 1
	releaseall
	end

}

script PetalburgWoods_EventScript_Boy1 {
	msgbox PetalburgWoods_Text_StayOutOfTallGrass, MSGBOX_NPC
	end

}

script PetalburgWoods_EventScript_Boy2 {
	msgbox PetalburgWoods_Text_HiddenItemsExplanation, MSGBOX_NPC
	end

}

script PetalburgWoods_EventScript_Girl {
	lock
	faceplayer
	goto_if_set FLAG_RECEIVED_MIRACLE_SEED, PetalburgWoods_EventScript_ExplainMiracleSeed
	msgbox PetalburgWoods_Text_TryUsingThisItem, MSGBOX_DEFAULT
	giveitem ITEM_MIRACLE_SEED
	goto_if_eq VAR_RESULT, FALSE, Common_EventScript_ShowBagIsFull
	setflag FLAG_RECEIVED_MIRACLE_SEED
	release
	end

}

script PetalburgWoods_EventScript_ExplainMiracleSeed {
	msgbox PetalburgWoods_Text_MiracleSeedExplanation, MSGBOX_DEFAULT
	release
	end

}

script PetalburgWoods_EventScript_Sign1 {
	msgbox PetalburgWoods_Text_TrainerTipsExperience, MSGBOX_SIGN
	end

}

script PetalburgWoods_EventScript_Sign2 {
	msgbox PetalburgWoods_Text_TrainerTipsPP, MSGBOX_SIGN
	end

}

script PetalburgWoods_EventScript_Lyle {
	trainerbattle_single TRAINER_LYLE, PetalburgWoods_Text_GoBugPokemonTeam, PetalburgWoods_Text_ICouldntWin
	msgbox PetalburgWoods_Text_ImOutOfPokeBalls, MSGBOX_AUTOCLOSE
	end

}

script PetalburgWoods_EventScript_James {
	trainerbattle_single TRAINER_JAMES_1, PetalburgWoods_Text_InstantlyPopularWithBugPokemon, PetalburgWoods_Text_CantBePopularIfILose, PetalburgWoods_EventScript_TryRegisterJames
	specialvar VAR_RESULT, ShouldTryRematchBattle
	goto_if_eq VAR_RESULT, TRUE, PetalburgWoods_EventScript_JamesRematch
	setvar VAR_0x8004, TRAINER_JAMES_1
	specialvar VAR_RESULT, IsTrainerRegistered
	goto_if_eq VAR_RESULT, FALSE, PetalburgWoods_EventScript_TryRegisterJames2
	msgbox PetalburgWoods_Text_PeopleRespectYou, MSGBOX_DEFAULT
	release
	end

}

script PetalburgWoods_EventScript_TryRegisterJames {
	special PlayerFaceTrainerAfterBattle
	waitmovement 0
	goto_if_set FLAG_HAS_MATCH_CALL, PetalburgWoods_EventScript_RegisterJames
	release
	end

}

script PetalburgWoods_EventScript_RegisterJames {
	msgbox PetalburgWoods_Text_IWantRematch1, MSGBOX_DEFAULT
	register_matchcall TRAINER_JAMES_1
	release
	end

}

script PetalburgWoods_EventScript_TryRegisterJames2 {
	goto_if_set FLAG_HAS_MATCH_CALL, PetalburgWoods_EventScript_RegisterJames2
	msgbox PetalburgWoods_Text_PeopleRespectYou, MSGBOX_DEFAULT
	release
	end

}

script PetalburgWoods_EventScript_RegisterJames2 {
	msgbox PetalburgWoods_Text_IWantRematch2, MSGBOX_DEFAULT
	register_matchcall TRAINER_JAMES_1
	release
	end

}

script PetalburgWoods_EventScript_JamesRematch {
	trainerbattle_rematch TRAINER_JAMES_1, PetalburgWoods_Text_MyPokemonHaveGrown, PetalburgWoods_Text_CantBePopularIfLose
	msgbox PetalburgWoods_Text_IveBeenTrainingHard, MSGBOX_AUTOCLOSE
	end

}

text PetalburgWoods_Text_NotAOneToBeFound {
    format("Hmmm… Not a one to be found…")
}

text PetalburgWoods_Text_HaveYouSeenShroomish {
    format("Hello, have you seen any POKéMON called SHROOMISH around here?\p I really love that POKéMON.")
}

text PetalburgWoods_Text_IWasGoingToAmbushYou {
    format("I was going to ambush you, but you had to dawdle in PETALBURG WOODS\l forever, didn't you?\p I got sick of waiting, so here I am!")
}

text PetalburgWoods_Text_HandOverThosePapers {
    format("You! DEVON RESEARCHER!\p Hand over those papers!")
}

text PetalburgWoods_Text_YouHaveToHelpMe {
    format("Aiyeeeh!\p You're a POKéMON TRAINER, aren't you? You've got to help me, please!")
}

text PetalburgWoods_Text_NoOneCrossesTeamAqua {
    format("Hunh? What do you think you're doing? What, you're going to protect him?\p No one who crosses TEAM AQUA gets any mercy, not even a kid!\p Come on and battle me!")
}

text PetalburgWoods_Text_YoureKiddingMe {
    format("You're kidding me! You're tough!")
}

text PetalburgWoods_Text_YouveGotSomeNerve {
    format("Grrr… You've got some nerve meddling with TEAM AQUA!\l Come on and battle me again!\p I wish I could say that, but I'm out of POKéMON…\p And, hey, we of TEAM AQUA are also after something in RUSTBORO.\p I'll let you go today!")
}

text PetalburgWoods_Text_ThatWasAwfullyClose {
    format("Whew… That was awfully close!\p Thanks to you, he didn't rob me of these important papers.\p I know, I'll give you a GREAT BALL as my thanks!")
}

text PetalburgWoods_Text_TeamAquaAfterSomethingInRustboro {
    format("Didn't that TEAM AQUA thug say they were after something in\l RUSTBORO, too?")
}

text PetalburgWoods_Text_ICantBeWastingTime {
    format("Uh-oh! It's a crisis! I can't be wasting time!")
}

text PetalburgWoods_Text_YoureLoadedWithItems {
    format("You're loaded with items. I can't give you this GREAT BALL.")
}

text PetalburgWoods_Text_GoBugPokemonTeam {
    format("I caught a whole bunch of POKéMON!\p Go, go, go! My BUG POKéMON team!")
}

text PetalburgWoods_Text_ICouldntWin {
    format("I have all these POKéMON, but I couldn't win…")
}

text PetalburgWoods_Text_ImOutOfPokeBalls {
    format("I caught a bunch of POKéMON. Now I'm out of POKé BALLS.")
}

text PetalburgWoods_Text_InstantlyPopularWithBugPokemon {
    format("If you take BUG POKéMON to school, you get to be instantly popular!")
}

text PetalburgWoods_Text_CantBePopularIfILose {
    format("I can't be popular if I lose.")
}

text PetalburgWoods_Text_PeopleRespectYou {
    format("If you have a big BUG POKéMON, people respect you for it.")
}

text PetalburgWoods_Text_IWantRematch1 {
    format("I want a rematch when my BUG POKéMON grow up!\p I'm registering you in my POKéNAV!")
}

text PetalburgWoods_Text_IWantRematch2 {
    format("I want a rematch when my BUG POKéMON grow up!\p I'm registering you in my POKéNAV!")
}

text PetalburgWoods_Text_MyPokemonHaveGrown {
    format("My BUG POKéMON have grown. I'll be popular again.")
}

text PetalburgWoods_Text_CantBePopularIfLose {
    format("I can't be popular if I lose.")
}

text PetalburgWoods_Text_IveBeenTrainingHard {
    format("You get to be popular if you have strong POKéMON, right?\l So, I've been training hard.")
}

text PetalburgWoods_Text_StayOutOfTallGrass {
    format("Yo, there! Your POKéMON doing okay?\p If your POKéMON are weak and you want to avoid battles, you should stay out\l of tall grass.")
}

text PetalburgWoods_Text_HiddenItemsExplanation {
    format("Sometimes, there are things on the ground even if you can't see them.\p That's why I always check where I'm walking.")
}

text PetalburgWoods_Text_TryUsingThisItem {
    format("Oh, neat! That's the BADGE from RUSTBORO GYM!\p You must be a TRAINER. You should try using this item.")
}

text PetalburgWoods_Text_MiracleSeedExplanation {
    format("It's a MIRACLE SEED. If a POKéMON holds that item, its\l GRASS-type moves become stronger.\p Besides MIRACLE SEED, I think there are other convenient items for POKéMON\l to hold.")
}

text PetalburgWoods_Text_TrainerTipsExperience {
    format("TRAINER TIPS\p Any POKéMON that appears even once in a battle is awarded EXP Points.\p To raise a weak POKéMON, put it at the left of the team list.\p As soon as a battle starts, switch it out. It will earn EXP Points without\l being exposed to any harm.")
}

text PetalburgWoods_Text_TrainerTipsPP {
    format("TRAINER TIPS\p In addition to Hit Points (HP), POKéMON have Power Points (PP) that are used to\l make moves during battle.\p If a POKéMON runs out of PP, it must be taken to a POKéMON CENTER.")
}

