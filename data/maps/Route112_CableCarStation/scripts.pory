mapscripts Route112_CableCarStation_MapScripts {
    Route112_CableCarStation_OnTransition
    Route112_CableCarStation_OnFrame
}

script Route112_CableCarStation_EventScript_MoveAttendantAside {
	setobjectxyperm LOCALID_ROUTE112_CABLE_CAR_ATTENDANT, 7, 4
	setobjectmovementtype LOCALID_ROUTE112_CABLE_CAR_ATTENDANT, MOVEMENT_TYPE_FACE_LEFT
	return

}

script Route112_CableCarStation_EventScript_ExitCableCar {
	lockall
	applymovement LOCALID_PLAYER, Route112_CableCarStation_Movement_ExitCableCar
	applymovement LOCALID_ROUTE112_CABLE_CAR_ATTENDANT, Route112_CableCarStation_Movement_FollowPlayerOutFromCableCar
	waitmovement 0
	setvar VAR_CABLE_CAR_STATION_STATE, 0
	setobjectxyperm LOCALID_ROUTE112_CABLE_CAR_ATTENDANT, 6, 7
	setobjectmovementtype LOCALID_ROUTE112_CABLE_CAR_ATTENDANT, MOVEMENT_TYPE_FACE_DOWN
	releaseall
	end

}

script Route112_CableCarStation_EventScript_Attendant {
	lock
	faceplayer
	msgbox Route112_CableCarStation_Text_CableCarReadyGetOn, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, YES, Route112_CableCarStation_EventScript_RideCableCar
	goto_if_eq VAR_RESULT, NO, Route112_CableCarStation_EventScript_DeclineRide
	end

}

script Route112_CableCarStation_EventScript_RideCableCar {
	msgbox Route112_CableCarStation_Text_StepThisWay, MSGBOX_DEFAULT
	closemessage
	applymovement LOCALID_ROUTE112_CABLE_CAR_ATTENDANT, Route112_CableCarStation_Movement_LeadPlayerToCableCar
	applymovement LOCALID_PLAYER, Route112_CableCarStation_Movement_BoardCableCar
	waitmovement 0
	setvar VAR_0x8004, FALSE  @ Going up
	setvar VAR_CABLE_CAR_STATION_STATE, 1
	incrementgamestat GAME_STAT_RODE_CABLE_CAR
	special CableCarWarp
	special CableCar
	waitstate
	release
	end

}

script Route112_CableCarStation_EventScript_DeclineRide {
	msgbox Route112_CableCarStation_Text_RideAnotherTime, MSGBOX_DEFAULT
	release
	end

}

text Route112_CableCarStation_Text_CableCarReadyGetOn {
    format("The CABLE CAR is ready to go up. Would you like to be on it?")
}

text Route112_CableCarStation_Text_StepThisWay {
    format("Please step this way.")
}

text Route112_CableCarStation_Text_RideAnotherTime {
    format("Please ride with us another time.")
}

