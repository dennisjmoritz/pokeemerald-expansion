mapscripts EverGrandeCity_SidneysRoom_MapScripts {
    EverGrandeCity_SidneysRoom_OnLoad
    EverGrandeCity_SidneysRoom_OnWarp
    EverGrandeCity_SidneysRoom_OnTransition
    EverGrandeCity_SidneysRoom_OnFrame
}

script EverGrandeCity_SidneysRoom_EventScript_ResetAdvanceToNextRoom {
	call PokemonLeague_EliteFour_EventScript_ResetAdvanceToNextRoom
	return

}

script EverGrandeCity_SidneysRoom_EventScript_CloseDoor {
	call PokemonLeague_EliteFour_EventScript_CloseDoor
	return

}

script EverGrandeCity_SidneysRoom_EventScript_PlayerTurnNorth {
	turnobject LOCALID_PLAYER, DIR_NORTH
	end

}

script EverGrandeCity_SidneysRoom_EventScript_WalkInCloseDoor {
	lockall
	call PokemonLeague_EliteFour_EventScript_WalkInCloseDoor
	setvar VAR_ELITE_4_STATE, 1
	releaseall
	end

}

script EverGrandeCity_SidneysRoom_EventScript_Sidney {
	lock
	faceplayer
	goto_if_set FLAG_DEFEATED_ELITE_4_SIDNEY, EverGrandeCity_SidneysRoom_EventScript_PostBattleSpeech
	playbgm MUS_ENCOUNTER_ELITE_FOUR, FALSE
	msgbox EverGrandeCity_SidneysRoom_Text_IntroSpeech, MSGBOX_DEFAULT
	trainerbattle_no_intro TRAINER_SIDNEY, EverGrandeCity_SidneysRoom_Text_Defeat
	goto EverGrandeCity_SidneysRoom_EventScript_Defeated
	end

}

script EverGrandeCity_SidneysRoom_EventScript_PostBattleSpeech {
	msgbox EverGrandeCity_SidneysRoom_Text_PostBattleSpeech, MSGBOX_DEFAULT
	release
	end

}

script EverGrandeCity_SidneysRoom_EventScript_Defeated {
	setflag FLAG_DEFEATED_ELITE_4_SIDNEY
	call PokemonLeague_EliteFour_SetAdvanceToNextRoomMetatiles
	msgbox EverGrandeCity_SidneysRoom_Text_PostBattleSpeech, MSGBOX_DEFAULT
	release
	end

}

text EverGrandeCity_SidneysRoom_Text_IntroSpeech {
    format("Welcome, challenger! I'm SIDNEY of the ELITE FOUR.\p I like that look you're giving me. I guess you'll give me a good match.\l That's good! Looking real good!\p All right! You and me, let's enjoy a battle that can only be staged\l here in the POKÃ©MON LEAGUE!")
}

text EverGrandeCity_SidneysRoom_Text_Defeat {
    format("Well, how do you like that? I lost! Eh, it was fun, so it doesn't matter.")
}

text EverGrandeCity_SidneysRoom_Text_PostBattleSpeech {
    format("Well, listen to what this loser has to say.\p You've got what it takes to go far. Now, go on to the next room and enjoy\l your next battle!")
}

